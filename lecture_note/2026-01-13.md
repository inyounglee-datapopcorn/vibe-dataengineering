# 📝 2026-01-13

## 1교시 09:00 - 10:00

#### 📌 강의 핵심 요약
- 데이터베이스(Supabase)에 데이터를 적재하는 다양한 방식(API/ORM vs SQL)과 그 효율성을 비교합니다.
- 데이터 처리의 두 가지 큰 흐름인 **배치(Batch)**와 **스트리밍(Streaming)**의 개념 및 실무 적용 기준을 학습합니다.
- Airflow와 Flask에서 동적 시스템 활용을 위한 **Jinja2 템플릿**의 기초 문법과 활용법을 익힙니다.

#### 📚 상세 내용 정리

##### 1. 데이터 적재 방식: API(ORM) vs SQL
- **SQL 방식 (DML/DDL)**: `CREATE TABLE`, `INSERT INTO` 등의 명령어를 직접 수행. 소량의 데이터나 테이블 구조 정의(DDL) 시 유용하지만, 대량의 행(Row)을 하나씩 `INSERT`하는 것은 비효율적입니다.
- **API/ORM 방식**: 객체(Object)를 데이터베이스에 직접 매핑하여 적재. 복잡한 SQL 쿼리 없이 구조화된 데이터(CSV 등)를 통째로 꽂아 넣을 수 있어 대량 적재 시 생산성과 속도가 높습니다.

##### 2. 데이터 처리 방식: 배치 vs 스트리밍
- **배치(Batch) 처리**: 데이터를 일정량씩 묶어서 한 번에 처리하는 방식. (예: 100만 명에게 재난 문자 발송 시 10만 명씩 끊어서 발송) 리소스 관점에서 훨씬 경제적이며 대부분의 업무에 적합합니다.
- **스트리밍(Streaming) 처리**: 데이터가 발생하는 즉시 실시간으로 흐르듯 처리하는 방식. (예: 주식, 코인 시세) 실시간성이 극도로 중요한 경우에만 사용하며, 구현 리소스가 많이 듭니다.

##### 3. Jinja2 템플릿 엔진
- **개념**: 파이썬 환경(Flask, Airflow 등)에서 데이터나 함수를 동적으로 불러오기 위해 사용되는 템플릿 엔진입니다.
- **기본 문법**:
  - **변수 호출**: `{{ variable_name }}` (예: `{{ ds }}`)
  - **제어 구조**: `{% if ... %}`, `{% for ... %}`, `{% endfor %}` (반복문/조건문 사용 시 `%` 기호 활용)
- **Airflow 활용**: 실행 날짜(`ds`), 타임스탬프(`ts`), 변수(`var.value`) 등을 런타임에 동적으로 삽입할 때 사용합니다.

##### 4. [Q&A] 데이터 엔지니어링 설계 원칙
- **질문**: 계산 연산을 BI 도구에서 하는 것이 좋은가, 앞단(SQL/DB)에서 미리 해두는 것이 좋은가?
- **답변**: 무조건 **앞단에서 사전 계산(Pre-calculation)**해 두는 것이 원칙입니다. BI 도구(Tableau 등)는 시각화(Showing)에 최적화되어야 하며, 연산 부하를 줄여야 대시보드 로딩 속도(1~2초 내외)를 확보할 수 있습니다.

#### 💡 핵심 포인트
- **데이터 엔지니어의 역할**: 사용자가 지연 없이 데이터를 볼 수 있도록 모든 연산과 전처리를 미리 완료해 두는 것입니다.
- **성능 최적화**: 대량 데이터 처리 시에는 `INSERT INTO` 대신 배치성 API 호출을 고려해야 합니다.

#### ✅ 실습/과제
- (2교시 예정) Slack API 연동 및 SMTP 메일 전송 환경 설정 실습.

#### 🔗 관련 키워드
- Supabase API, ORM, Batch vs Streaming, Jinja2 Template, Pre-calculation, Airflow Macros.

## 2교시 10:00 - 11:00

#### 📌 강의 핵심 요약
- GitHub 리포지토리의 보안 설정(Public → Private 전환) 방법과 코드 공유 시 주의사항을 학습합니다.
- Airflow를 활용한 외부 알림 시스템의 기초인 **Slack Webhook** 연동 구조를 이해합니다.
- 슬랙 앱 생성, 권한 설정(Scopes), 웹훅 URL 발급 과정을 실습하려 했으나, 워크스페이스 권한 문제로 인한 현실적인 제약 사항을 확인합니다.

#### 📚 상세 내용 정리

##### 1. GitHub 리포지토리 보안 관리
- **가시성(Visibility) 변경**: GitHub Settings 하단의 **'Danger Zone'**에서 퍼블릭 리포지토리를 프라이빗으로 전환할 수 있습니다.
- **코드 공유 주의사항**: 강의용 코드는 강사의 저작권 및 보안 이슈가 포함될 수 있으므로, 블로그 등에 전체 코드를 게시하는 것은 지양해야 합니다. 결과물 위주로 기록하는 것을 권장합니다.

##### 2. Slack Webhook 연동 원리
- **SlackWebhookOperator**: Airflow에서 제공하는 전용 오퍼레이터를 사용하여 간단하게 메시지를 전송합니다.
- **Incoming Webhooks**: 슬랙 워크스페이스 외부에서 메시지를 보낼 수 있게 해주는 기능입니다. 이를 활성화하면 고유한 **Webhook URL**이 생성됩니다.
- **인증 및 권한**: 
  - 슬랙 앱 설정의 `OAuth & Permissions` 섹션에서 필요한 스코프(Scope)를 정의해야 합니다.
  - 앱 설치 및 웹훅 활성화를 위해서는 워크스페이스 관리자의 승인이 필요할 수 있습니다.

##### 3. [확인 필요] 워크스페이스 접근 권한 이슈
- 현재 수강생 워크스페이스 환경에서 슬랙 앱 설치 및 웹훅 생성을 위한 관리자 권한이 제한되어 있음을 확인했습니다. 
- 교육 운영측에 권한 개방 여부를 확인 중이며, 불가할 경우 개인 워크스페이스에서 테스트하거나 이메일 알림 실습으로 대체할 예정입니다.

#### 💡 핵심 포인트
- **보안 우선**: API 키나 웹훅 URL이 포함된 코드는 반드시 프라이빗 리포지토리에서 관리해야 합니다.
- **연동의 핵심**: 외부 시스템(Slack, Email 등)과의 연동은 결국 **'허가된 주소(URL)'**와 **'인증 정보(Token/Key)'**를 Airflow 커넥션에 정확히 등록하는 과정입니다.

#### ✅ 실습/과제
- (강사 데모) 개인 워크스페이스의 웹훅 URL을 이용하여 Airflow에서 슬랙 메시지가 전송되는 과정을 확인했습니다.
- (향후 계획) 슬랙 연동이 어려울 경우를 대비하여 **SMTP(이메일)** 설정 및 전송 실습을 준비합니다.

#### 🔗 관련 키워드
- GitHub Danger Zone, Slack Incoming Webhooks, SlackWebhookOperator, OAuth Scopes, SMTP Setup.

## 3교시 11:00 - 12:00

## 🍽️ 점심시간 12:00 - 13:00

## 4교시 13:00 - 14:00

## 5교시 14:00 - 15:00

## 6교시 15:00 - 16:00

## 7교시 16:00 - 17:00

## 8교시 17:00 - 18:00
